<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø°ÙƒØ§Ø±</title>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WC3345ZVGN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WC3345ZVGN');
</script>
  <style>
    body{
      margin:0; font-family: system-ui, -apple-system, "Segoe UI", Arial;
      background:#0b1220; color:#fff; min-height:100vh;
      display:flex; align-items:center; justify-content:center;
      padding:18px;
    }
    .card{
      width:min(720px, 100%);
      background:rgba(255,255,255,0.06);
      border:1px solid rgba(255,255,255,0.12);
      border-radius:18px; padding:18px;
      box-shadow:0 10px 30px rgba(0,0,0,0.35);
    }
    h1{margin:0 0 8px; font-size:20px;}
    p{margin:0 0 14px; opacity:0.9; line-height:1.7}

    .intention{
      margin:12px 0 18px;
      padding:14px;
      border-radius:16px;
      background:rgba(34,197,94,0.15);
      border:1px solid rgba(34,197,94,0.5);
      font-weight:900;
      line-height:1.9;
      text-align:center;
      font-size:16px;
    }

    .topbar{
      display:flex; gap:10px; flex-wrap:wrap;
      margin:10px 0 14px;
    }
    .btn{
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.18);
      background:rgba(255,255,255,0.08);
      color:#fff; cursor:pointer;
      font-weight:800;
      flex:1;
      min-width:160px;
    }
    .btn:active{transform:scale(0.99)}

    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap:12px;
      margin-top:10px;
    }

    .dhikr{
      background:rgba(255,255,255,0.06);
      border:1px solid rgba(255,255,255,0.12);
      border-radius:16px;
      padding:14px;
    }

    .countRow{
      display:flex; align-items:baseline; justify-content:space-between;
      gap:10px; margin-bottom:10px;
    }

    .count{
      font-size:40px; font-weight:900; letter-spacing:1px;
    }

    .target{
      opacity:0.8; font-size:14px;
    }

    .tap{
      width:100%;
      padding:16px 14px;
      font-size:18px; font-weight:900;
      border-radius:16px;
      border:1px solid rgba(255,255,255,0.18);
      background:rgba(59,130,246,0.18);
      color:#fff;
      cursor:pointer;
      user-select:none;
      touch-action:manipulation;
      transition: background 0.2s ease, border-color 0.2s ease;
    }

    .tap.done{
      background: rgba(34,197,94,0.28);
      border-color: rgba(34,197,94,0.7);
    }

    .miniActions{
      display:flex; gap:10px; flex-wrap:wrap; margin-top:10px;
    }

    .mini{
      flex:1;
      padding:10px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.18);
      background:rgba(255,255,255,0.08);
      color:#fff; cursor:pointer;
      font-weight:800;
      min-width:120px;
    }

    .note{margin-top:12px; font-size:13px; opacity:0.8; line-height:1.7}

    .toast{
      position: fixed;
      bottom: 16px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.65);
      border: 1px solid rgba(255,255,255,0.16);
      padding: 10px 12px;
      border-radius: 14px;
      font-weight: 800;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease;
    }
    .toast.show{opacity: 1;}
  </style>
</head>
<body>
  <div class="card">
    <h1>Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø°ÙƒØ§Ø± (Ø­ØªÙ‰ 33)</h1>

    <div class="intention">
      Ø¹Ù„Ù‰ Ù†ÙŠØ© Ø·Ù„Ø¨ Ø§Ù„Ø´ÙØ§Ø¡ Ùˆ Ø§Ù„ØªØ®ÙÙŠÙ Ù…Ù† Ø£Ù„Ù… Ø§Ù„Ù…Ø±Ø¶ Ù„ÙÙ€<br>
      ÙŠÙˆØ³Ù ÙƒÙ„ÙŠØ¨ ( Ø§Ø¨Ùˆ Ù…Ø­Ù…Ø¯ )<br>
      Ùˆ Ø³Ø§Ù…ÙŠ ÙƒÙ„ÙŠØ¨ ( Ø§Ø¨Ùˆ Ø¹Ù…Ø± )
    </div>

    <p>
      Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø°ÙƒØ± Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¹Ø¯Ù‘Ø§Ø¯. Ø¹Ù†Ø¯ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ <b>33</b> ÙŠØµØ¨Ø­ Ø§Ù„Ø²Ø± <b>Ø£Ø®Ø¶Ø±</b>.
      ÙŠØªÙ… Ø­ÙØ¸ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ.
    </p>

    <div class="topbar">
      <button class="btn" id="shareBtn">Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØµÙØ­Ø©</button>
      <button class="btn" id="resetAllBtn">ØªØµÙÙŠØ± Ø§Ù„ÙƒÙ„</button>
    </div>

    <div class="grid" id="grid"></div>

    <div class="note">
      Ù†ÙŠØ© Ù†Ø´Ø± Ø§Ù„Ø£Ø¬Ø± ÙˆØ§Ù„Ø«ÙˆØ§Ø¨: Ø´Ø§Ø±Ùƒ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø¹ Ù…Ù† ØªØ­Ø¨ ğŸŒ¿
    </div>
  </div>

  <div class="toast" id="toast">ØªÙ…</div>

  <script>
    const TARGET = 33;

    const items = [
      { id: "istighfar", text: "Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…" },
      { id: "subhan",    text: "Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡" },
      { id: "hamd",      text: "Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠÙ†" },
      { id: "tahlil",    text: "Ù„Ø§ Ø§Ù„Ù‡ Ø§Ù„Ø§ Ø§Ù„Ù„Ù‡" },
      { id: "takbir",    text: "Ø§Ù„Ù„Ù‡ Ø§ÙƒØ¨Ø±" },
    ];

    const grid = document.getElementById("grid");
    const toast = document.getElementById("toast");

    function keyFor(id){ return "dhikr_" + id; }
    function getVal(id){ return Number(localStorage.getItem(keyFor(id)) || 0); }
    function setVal(id, v){ localStorage.setItem(keyFor(id), String(v)); }

    function vibrate(){ if (navigator.vibrate) navigator.vibrate(18); }

    function showToast(msg){
      toast.textContent = msg;
      toast.classList.add("show");
      setTimeout(() => toast.classList.remove("show"), 1200);
    }

    function render(){
      grid.innerHTML = "";
      for (const it of items){
        const val = getVal(it.id);

        const box = document.createElement("div");
        box.className = "dhikr";

        const countRow = document.createElement("div");
        countRow.className = "countRow";

        const count = document.createElement("div");
        count.className = "count";
        count.id = "count_" + it.id;
        count.textContent = val;

        const target = document.createElement("div");
        target.className = "target";
        target.textContent = `Ø§Ù„Ù‡Ø¯Ù: ${TARGET}`;

        countRow.appendChild(count);
        countRow.appendChild(target);

        const tap = document.createElement("button");
        tap.className = "tap" + (val >= TARGET ? " done" : "");
        tap.textContent = it.text;

        tap.addEventListener("click", () => {
          let v = getVal(it.id);
          if (v < TARGET) {
            v++;
            setVal(it.id, v);
            count.textContent = v;
            if (v >= TARGET) {
              tap.classList.add("done");
              showToast("Ù…Ø§ Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ âœ… ÙˆØµÙ„Øª 33");
            }
            vibrate();
          } else {
            showToast("Ù…ÙƒØªÙ…Ù„ âœ… (33)");
            vibrate();
          }
        });

        const miniActions = document.createElement("div");
        miniActions.className = "miniActions";

        const resetBtn = document.createElement("button");
        resetBtn.className = "mini";
        resetBtn.textContent = "ØªØµÙÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ø°ÙƒØ±";
        resetBtn.onclick = () => {
          setVal(it.id, 0);
          count.textContent = 0;
          tap.classList.remove("done");
          showToast("ØªÙ… Ø§Ù„ØªØµÙÙŠØ±");
          vibrate();
        };

        miniActions.appendChild(resetBtn);

        box.appendChild(countRow);
        box.appendChild(tap);
        box.appendChild(miniActions);

        grid.appendChild(box);
      }
    }

    async function sharePage(){
      const url = window.location.href;
      const title = document.title;
      const text = "Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø°ÙƒØ§Ø± (Ø­ØªÙ‰ 33) â€” Ø´Ø§Ø±Ùƒ Ù„Ù„Ø£Ø¬Ø± ğŸŒ¿";

      try{
        if (navigator.share) {
          await navigator.share({ title, text, url });
          showToast("ØªÙ…Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©");
        } else {
          await navigator.clipboard.writeText(url);
          showToast("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·");
        }
      } catch {
        showToast("Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ù† Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù†ÙˆØ§Ù†");
      }
    }

    document.getElementById("shareBtn").addEventListener("click", sharePage);
    document.getElementById("resetAllBtn").addEventListener("click", () => {
      for (const it of items) setVal(it.id, 0);
      render();
      showToast("ØªÙ… ØªØµÙÙŠØ± Ø§Ù„ÙƒÙ„");
      vibrate();
    });

    render();
  </script>
</body>
</html>
